<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 4 Mode Choice Models of ActivitySim | The Mode Choice Models of BEAM and ActivitySim</title>
  <meta name="description" content="A short description" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content=" 4 Mode Choice Models of ActivitySim | The Mode Choice Models of BEAM and ActivitySim" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A short description" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 4 Mode Choice Models of ActivitySim | The Mode Choice Models of BEAM and ActivitySim" />
  
  <meta name="twitter:description" content="A short description" />
  



<meta name="date" content="2021-05-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chap3.html"/>
<link rel="next" href="comparison-between-beam-and-activitysim.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Short Title</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="chap2.html"><a href="chap2.html"><i class="fa fa-check"></i><b>2</b> Background</a><ul>
<li class="chapter" data-level="2.1" data-path="chap2.html"><a href="chap2.html#discrete-choice-model"><i class="fa fa-check"></i><b>2.1</b> Discrete Choice Model</a></li>
<li class="chapter" data-level="2.2" data-path="chap2.html"><a href="chap2.html#utility-based-choice-theory"><i class="fa fa-check"></i><b>2.2</b> Utility-based Choice Theory</a><ul>
<li class="chapter" data-level="2.2.1" data-path="chap2.html"><a href="chap2.html#utility-function"><i class="fa fa-check"></i><b>2.2.1</b> Utility Function</a></li>
<li class="chapter" data-level="2.2.2" data-path="chap2.html"><a href="chap2.html#observed-portion-of-the-utility-function"><i class="fa fa-check"></i><b>2.2.2</b> Observed Portion of the Utility Function</a></li>
<li class="chapter" data-level="2.2.3" data-path="chap2.html"><a href="chap2.html#unobserved-portion-of-the-utility-function"><i class="fa fa-check"></i><b>2.2.3</b> Unobserved Portion of the Utility Function</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chap2.html"><a href="chap2.html#chap23"><i class="fa fa-check"></i><b>2.3</b> Multinomial Logit Model</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chap2.html"><a href="chap2.html#properties-of-mnl-equation"><i class="fa fa-check"></i><b>2.3.1</b> Properties of MNL Equation</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chap2.html"><a href="chap2.html#nested-logit-model"><i class="fa fa-check"></i><b>2.4</b> Nested Logit Model</a></li>
<li class="chapter" data-level="2.5" data-path="chap2.html"><a href="chap2.html#latent-class-model"><i class="fa fa-check"></i><b>2.5</b> Latent Class Model</a><ul>
<li class="chapter" data-level="2.5.1" data-path="chap2.html"><a href="chap2.html#mathematical-representation-of-lcm"><i class="fa fa-check"></i><b>2.5.1</b> Mathematical Representation of LCM</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="chap2.html"><a href="chap2.html#purpose-based-model"><i class="fa fa-check"></i><b>2.6</b> Purpose Based Model</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap3.html"><a href="chap3.html"><i class="fa fa-check"></i><b>3</b> Mode Choice Models of BEAM</a><ul>
<li class="chapter" data-level="3.1" data-path="chap3.html"><a href="chap3.html#multinomial-logit-mode-choice"><i class="fa fa-check"></i><b>3.1</b> Multinomial Logit Mode Choice</a><ul>
<li class="chapter" data-level="3.1.1" data-path="chap3.html"><a href="chap3.html#process-in-beam"><i class="fa fa-check"></i><b>3.1.1</b> Process in BEAM</a></li>
<li class="chapter" data-level="3.1.2" data-path="chap3.html"><a href="chap3.html#config-and-default-values"><i class="fa fa-check"></i><b>3.1.2</b> Config and Default Values</a></li>
<li class="chapter" data-level="3.1.3" data-path="chap3.html"><a href="chap3.html#populationattributes-and-attributesofindividual"><i class="fa fa-check"></i><b>3.1.3</b> PopulationAttributes and AttributesOfIndividual</a></li>
<li class="chapter" data-level="3.1.4" data-path="chap3.html"><a href="chap3.html#personagent"><i class="fa fa-check"></i><b>3.1.4</b> PersonAgent</a></li>
<li class="chapter" data-level="3.1.5" data-path="chap3.html"><a href="chap3.html#modechoicecalculator"><i class="fa fa-check"></i><b>3.1.5</b> ModeChoiceCalculator</a></li>
<li class="chapter" data-level="3.1.6" data-path="chap3.html"><a href="chap3.html#choosesmode"><i class="fa fa-check"></i><b>3.1.6</b> ChoosesMode</a></li>
<li class="chapter" data-level="3.1.7" data-path="chap3.html"><a href="chap3.html#beamrouter"><i class="fa fa-check"></i><b>3.1.7</b> BeamRouter</a></li>
<li class="chapter" data-level="3.1.8" data-path="chap3.html"><a href="chap3.html#modechoicemultinomiallogit"><i class="fa fa-check"></i><b>3.1.8</b> ModeChoiceMultinomialLogit</a></li>
<li class="chapter" data-level="3.1.9" data-path="chap3.html"><a href="chap3.html#multinomiallogit"><i class="fa fa-check"></i><b>3.1.9</b> MultinomialLogit</a></li>
<li class="chapter" data-level="3.1.10" data-path="chap3.html"><a href="chap3.html#events"><i class="fa fa-check"></i><b>3.1.10</b> Events</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="chap3.html"><a href="chap3.html#latent-class-mode-choice"><i class="fa fa-check"></i><b>3.2</b> Latent Class Mode Choice</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chap4.html"><a href="chap4.html"><i class="fa fa-check"></i><b>4</b> Mode Choice Models of ActivitySim</a><ul>
<li class="chapter" data-level="4.1" data-path="chap4.html"><a href="chap4.html#tour-mode-choice"><i class="fa fa-check"></i><b>4.1</b> Tour Mode Choice</a></li>
<li class="chapter" data-level="4.2" data-path="chap4.html"><a href="chap4.html#trip-mode-choice"><i class="fa fa-check"></i><b>4.2</b> Trip Mode Choice</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="comparison-between-beam-and-activitysim.html"><a href="comparison-between-beam-and-activitysim.html"><i class="fa fa-check"></i><b>5</b> Comparison between BEAM and ActivitySim</a><ul>
<li class="chapter" data-level="5.1" data-path="comparison-between-beam-and-activitysim.html"><a href="comparison-between-beam-and-activitysim.html#available-modes"><i class="fa fa-check"></i><b>5.1</b> Available Modes</a></li>
<li class="chapter" data-level="5.2" data-path="comparison-between-beam-and-activitysim.html"><a href="comparison-between-beam-and-activitysim.html#mode-choice-parameters"><i class="fa fa-check"></i><b>5.2</b> Mode Choice Parameters</a></li>
<li class="chapter" data-level="5.3" data-path="comparison-between-beam-and-activitysim.html"><a href="comparison-between-beam-and-activitysim.html#questions"><i class="fa fa-check"></i><b>5.3</b> Questions</a></li>
<li class="chapter" data-level="5.4" data-path="comparison-between-beam-and-activitysim.html"><a href="comparison-between-beam-and-activitysim.html#possible-methods"><i class="fa fa-check"></i><b>5.4</b> Possible Methods</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Mode Choice Models of BEAM and ActivitySim</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap4" class="section level1">
<h1><span class="header-section-number"> 4</span> Mode Choice Models of ActivitySim</h1>
<p>The mode choice model in ActivitySim is more widespread than the model in BEAM. It is multifaceted between tours, trips, and purpose. In other words, there is a mode choice model that determines the <em>primary</em> mode for each tour and a separate mode choice model that determines the mode for each trip within each tour. The tour choice is the upper-level choice whereas the trip mode choice is the lower-level choice that is conditional upon the upper-level choice. Two levels of mode choice is a more advanced than the traditional mode decision choice.</p>
<p>This overarching mode choice structure exists separately for each purpose. This means that if there are ten purposes, there are ten tour mode choice models and 10 trip mode choice models, making a total of 20 mode choice models!</p>
<div id="tour-mode-choice" class="section level2">
<h2><span class="header-section-number">4.1</span> Tour Mode Choice</h2>
<p>The tour mode choice model assigns the primary mode that is used to get from origin to destination. This level accounts for variables that affect the entire tour. The tour mode decision also affects the alternative values that are available for each trip. The specific details that determine which mode is used for each tour have to do with whether the tour is done by private car or by public transit, walking, or biking; whether there is carpooling available; and whether the transit mode is accessable by foot or by car.</p>
<p>The specific choice model used to determine the overarching tour’s mode is a nested logit model. It separates similar modes into the differing bins as to “more accurately model the cross-elasticities between the alternatives” (ActivitySim). As shown in the following graphic, all 18 modes within ActivitySim are shown in the nested structure.</p>
<center>
<div class="figure">
<img src="pics/tour_nest.png" alt="Figure 4.1: Tour Mode Choice Nested Logit Model" />
<p class="caption">Figure 4.1: Tour Mode Choice Nested Logit Model</p>
</div>
</center>
<p>The first decision of modes is whether it is an automobile, a non-motorized vehicle, or a transit type. In a broad sense, the second level of nesting for automobile and non-motorized has to do with vehicle ocuppancy. If it is an automobile, three secondary bins exist: drive-alone, shared-ride with two people, and shared-ride with 3 or more people. Then, in the thrid level of nesting, two bins exist having to do with if the mode is free or not. On the other hand, the non-motorized section is only divided up into the walk or bike mode on a secondary level, with no options on the third level. The transit nest is divided into walk-transit and drive transit on the secondary level. There are then 5 more bins within each one of those transit options having to do with which specific transit type is involved, like LRT, express, etc. The logsum coeffiecients for the first nest is 0.72 and for the second nest 0.35.</p>
<p>The utility function parameters used for the tour mode choice model can be found in the Travel Model Development: Calibration and Validation on pages 102-105 (2012). The primary variables in the utility function are in-vehicle time, other travel times, cost, characteristics of the destination zone, demographics, and auto ownership of the household. Each mode has different parameter values for each one of the variables, for each purpose.</p>
<p>[FIND TOUR MODE CHOICE UTILITY FUNCTION AND PUT HERE]</p>
<p><em>Travel Model Development: Calibration and Validation</em>: [<a href="http://analytics.mtc.ca.gov/foswiki/pub/Main/Documents/2012_05_18_RELEASE_DRAFT_Calibration_and_Validation.pdf" class="uri">http://analytics.mtc.ca.gov/foswiki/pub/Main/Documents/2012_05_18_RELEASE_DRAFT_Calibration_and_Validation.pdf</a>]</p>
</div>
<div id="trip-mode-choice" class="section level2">
<h2><span class="header-section-number">4.2</span> Trip Mode Choice</h2>
The trip mode choice model assigns a specific mode to each trip on a given tour. It is similar to the tour mode choice model, except only certain trips are allowed depending on the tour mode. The next table displays a detailed explanation of which trip modes are allowed according to the tour mode that was selected in the tour mode choice.
<center>
<div class="figure">
<img src="pics/trip_allow.png" alt="Figure 4.2: Trip Mode Availability based on Tour Mode" />
<p class="caption">Figure 4.2: Trip Mode Availability based on Tour Mode</p>
</div>
</center>
<p>The rules that define the correspondence between trips and tours are defined as the following:</p>
<ol style="list-style-type: decimal">
<li>Pay trip modes are only allowed under pay tour modes. For exaxample, Shared Ride 2 (Pay) is only an available trip under the tour mode Shared Ride 2 (Pay).</li>
<li>The auto occupancy for the tour mode is determined by the maximum auto occupancy among all the auto trips within the tour. Therefore, the tour mode’s auto occupancy is the trip with the largest auto occupancy within the tour.</li>
<li>Transit tours do allow auto-shared (carpooling) trips for particular legs. For example, if someone takes an auto-shared trip to work, the mode choice structures allows the individual to take transit back home.</li>
<li>The walk mode is an allowed mode for any given trip, no matter the tour.</li>
<li>“The availability of transit line-haul submodes on transit tours depends on teh skimming and tour mode choice hierarchy” (132). Albeit a low probability, free shared-ride trip modes are allowed in walk-transit tours. Paid shared-ride trip modes are not allowed, however, on transit tours because no evidence promotes this mode selection.</li>
</ol>
<p>The utility function parameters used for the trip mode choice model can be found in the Travel Model Development: Calibration and Validation on pages 134-135 (2012). These parameters are very similar to the ones used in the tour mode choice model. In most cases, the in-vehicle times for coefficients in the trip mode choice are identical with the in-vehicle times in the tour mode choice. For coefficients of variables that apply in the trip mode choice to multiple legs, but only apply once in the tour mode choice, the trip mode choice in-vehicle time is half that of the tour mode choice in-vehicle time.</p>
<p>[FIND TRIP MODE CHOICE UTILITY FUNCTION AND PUT HERE]</p>
<p>The trip is determined using a nested logit model structure, just like the tour mode choice model. There is one for each tour purpose as well. Notice how it is based on <em>tour</em> purpose and not each <em>trip</em> purpose.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chap3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="comparison-between-beam-and-activitysim.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["project_name.pdf", "project_name.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
